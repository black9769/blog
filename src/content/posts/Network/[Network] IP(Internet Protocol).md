---
title: "[Network] IP(Internet Protocol)"
published: 2024-08-28
description: ''
image: ''
tags: [CS, Network, IP, L3]
category: 'Network'
draft: false 
---

### IP(Internet Protocol)

`IP(Internet Protocol)`는 인터넷을 통해 데이터를 전송하는 데 사용되는 핵심 프로토콜 중 하나입니다. 
IP는 컴퓨터 네트워크에서 데이터를 `패킷(작은 데이터 블록)` 형태로 전송하며, 각 패킷은 `목적지 주소(IP 주소)를 포함`하고 있어 `정확한 목적지로 전송`될 수 있습니다.

> 💡 패킷(Packet)
>  
> 패킷(packet)은 컴퓨터 네트워크에서 데이터를 전송할 때 사용되는 작은 데이터 단위입니다.  
> 데이터를 송수신하기 위해 `큰 데이터를 작은 크기의 패킷`으로 나누어 전송하고, 이를 `목적지에서 다시 조립`하는 방식으로 네트워크 통신이 이루어집니다. 
> `패킷은 네트워크의 기본적인 단위이`며, 네트워크에서 데이터 전송의 효율성과 신뢰성을 높이는 데 중요한 역할을 합니다.
> ### 패킷의 구성 요소
> 패킷은 크게 두 가지 주요 부분으로 구성됩니다:
>
> 1. **헤더(Header)**:
> - **제어 정보**: 패킷의 목적지 주소, 출발지 주소, 패킷 번호, 프로토콜 정보, 오류 검출 코드 등의 정보를 담고 있습니다. 이 정보는 데이터가 올바른 목적지로 전달되고, 도중에 오류가 발생했는지 등을 확인하는 데 사용됩니다.
>
> 2. **페이로드(Payload)**:
> - **실제 데이터**: 전송하려는 실제 데이터나 메시지를 포함합니다. 예를 들어, 웹 페이지의 텍스트, 이미지, 비디오 데이터 등이 여기에 포함될 수 있습니다.
>
> ### 패킷의 전송 과정
> 1. **데이터 분할**: 큰 데이터를 전송할 때, 이 데이터를 여러 개의 작은 패킷으로 분할합니다. 각 패킷은 헤더와 페이로드로 구성되며, 헤더에는 패킷을 조립할 때 필요한 정보가 포함됩니다.
>
> 2. **네트워크 전송**: 각 패킷은 독립적으로 네트워크를 통해 전송됩니다. 네트워크의 상태에 따라 각 패킷은 다른 경로를 통해 전달될 수 있습니다.
>
> 3. **패킷 도착 및 조립**: 수신 측에서는 패킷을 받아, 헤더에 포함된 정보를 바탕으로 패킷의 순서를 맞추고 원래의 데이터로 재조립합니다.
> 4. **오류 처리**: 만약 패킷이 손상되었거나, 도착하지 않은 경우, 수신 측은 해당 패킷의 재전송을 요청할 수 있습니다.

#### 1. **IP의 주요 기능**
- **주소 지정(Addressing):** `IP는 네트워크에서 각 장치를 고유하게 식별할 수 있는 IP 주소`를 할당합니다.
- **패킷 분할 및 조립(Fragmentation & Reassembly):** 큰 데이터는 전송 가능한 작은 패킷으로 분할되며, `목적지에서 다시 조립`됩니다.
- **[라우팅(Routing)](/blog/posts/network/network-routing/):** 패킷이 네트워크를 통해 올바른 경로를 따라 목적지에 도달할 수 있도록 라우팅합니다.

#### 2. **IP 주소의 구성**
- IP 주소는 네트워크에서 특정 장치를 식별하기 위한 32비트(IPv4) 또는 128비트(IPv6) 숫자입니다.
- IPv4 주소는 보통 `192.168.1.1`과 같은 형식을 가지며, `4개의 옥텟(8비트)`으로 구성되어 있습니다. 각 옥텟은 0부터 255 사이의 숫자입니다.
- IPv6 주소는 `2001:0db8:85a3:0000:0000:8a2e:0370:7334`과 같은 형식을 가지며, 8개의 16비트 블록으로 구성되어 있습니다.

#### 3. **IP 주소의 클래스**
- **IPv4 클래스:**
    - **Class A:** 대규모 네트워크에 사용됩니다. 예: `10.0.0.0`부터 `10.255.255.255`까지.
    - **Class B:** 중간 크기의 네트워크에 사용됩니다. 예: `172.16.0.0`부터 `172.31.255.255`까지.
    - **Class C:** 소규모 네트워크에 사용됩니다. 예: `192.168.0.0`부터 `192.168.255.255`까지.
    - **Class D:** 멀티캐스트 그룹에 사용됩니다. 예: `224.0.0.0`부터 `239.255.255.255`까지.
    - **Class E:** 실험적 용도로 예약된 주소입니다. 예: `240.0.0.0`부터 `255.255.255.255`까지.

- **IPv6 주소:** IPv6는 더 큰 주소 공간(128비트)을 사용하며, 클래스 개념 대신 주소의 용도에 따라 할당됩니다.

#### 4. **IP 주소의 할당**
- **공인 IP 주소(Public IP Address):** 전 세계에서 `유일하게 식별되는 주소`로, 인터넷에 직접 연결된 장치에 할당됩니다.
- **사설 IP 주소(Private IP Address):** `로컬 네트워크 내에서만 고유하게 식별`되며, `NAT(Network Address Translation)를 통해 공인 IP 주소와 상호작용`할 수 있습니다.

#### 5. **IP 프로토콜의 버전**
- **IPv4:** 1980년대부터 사용된 IP의 4번째 버전으로, 32비트 주소 체계를 사용합니다. 약 43억 개의 주소를 제공하지만, 주소 고갈 문제로 인해 새로운 버전이 필요하게 되었습니다.
- **IPv6:** IPv4의 주소 고갈 문제를 해결하기 위해 개발된 6번째 버전으로, 128비트 주소 체계를 사용하여 거의 무한에 가까운 주소를 제공합니다.

#### 6. **IP 패킷의 구조**
- **헤더(Header):** IP 패킷의 앞부분으로, 패킷의 전송과 관련된 정보를 포함합니다. IPv4 헤더는 20-60바이트, IPv6 헤더는 40바이트로 고정되어 있습니다.
- **페이로드(Payload):** 실제 전송할 데이터가 포함된 부분입니다.

**IPv4 헤더 필드 예시:**
- **버전(Version):** IP 프로토콜의 버전을 나타냅니다.
- **헤더 길이(Header Length):** 헤더의 길이를 나타냅니다.
- **서비스 타입(Type of Service, ToS):** 패킷의 우선순위를 지정하는 필드입니다.
- **총 길이(Total Length):** 패킷 전체의 길이를 나타냅니다.
- **식별자(Identification):** 패킷의 분할 및 재조립에 사용됩니다.
- **TTL(Time to Live):** 패킷이 네트워크를 얼마나 오래 떠돌 수 있는지를 나타냅니다.
- **프로토콜(Protocol):** 상위 계층의 프로토콜(예: TCP, UDP)을 나타냅니다.
- **출발지 주소(Source Address):** 패킷을 보낸 장치의 IP 주소입니다.
- **목적지 주소(Destination Address):** 패킷을 받을 장치의 IP 주소입니다.

#### 7. **[IP 라우팅](/blog/posts/network/network-routing/)**
- **정적 라우팅(Static Routing):** 네트워크 관리자가 수동으로 경로를 설정하는 방식입니다.
- **동적 라우팅(Dynamic Routing):** 라우터가 자동으로 경로를 설정하고 최적화하는 방식으로, 프로토콜(OSPF, BGP, RIP)을 사용합니다.

#### 8. **NAT(Network Address Translation)**
- **NAT의 역할:** 사설 IP 주소와 공인 IP 주소 간의 변환을 담당하며, 네트워크 보안 강화 및 공인 IP 주소의 절약에 기여합니다.
- **NAT의 유형:**
    - **Static NAT:** 사설 IP 주소를 공인 IP 주소와 1:1로 매핑합니다.
    - **Dynamic NAT:** 사설 IP 주소를 공인 IP 주소 풀에서 동적으로 할당합니다.
    - **PAT(Port Address Translation, NAT Overload):** 여러 사설 IP 주소를 하나의 공인 IP 주소와 포트 번호로 매핑합니다.

#### 9. **[서브넷팅(Subnetting)](/blog/posts/network/network-subnet/)**
- **서브넷 마스크(Subnet Mask):** `IP 주소를 네트워크 부분과 호스트 부분`으로 나누는 데 사용됩니다.
- **서브넷팅의 목적:** 큰 네트워크를 여러 작은 `네트워크로 분할하여 관리` 효율성을 높이고, 네트워크 성능을 최적화합니다.

#### 10. **IP의 한계와 보안 문제**
- **주소 고갈 문제:** IPv4는 한정된 주소 공간으로 인해 고갈 문제를 겪었으며, 이를 해결하기 위해 IPv6가 도입되었습니다.
- **보안 문제:** IP 자체는 보안을 제공하지 않으며, IP 스푸핑(IP Spoofing), DDoS 공격과 같은 보안 위협에 취약합니다. 이를 보완하기 위해 IPsec(Internet Protocol Security)과 같은 보안 프로토콜이 사용됩니다.

### 결론
IP는 인터넷과 네트워크 통신의 근간을 이루는 중요한 프로토콜입니다. 
주소 지정, 패킷화, 라우팅 등의 기능을 통해 전 세계적으로 데이터를 효율적으로 전달할 수 있게 해줍니다. 
IPv4에서 IPv6로의 전환은 미래의 인터넷 환경에서 지속적인 성장을 가능하게 하는 중요한 변화 중 하나입니다. 
IP 프로토콜에 대한 이해는 `네트워크 및 인터넷 기술의 핵심을 이해`하는 데 필수적입니다.
