---
title: "[Network] Subnet"
published: 2024-07-02
description: ''
image: ''
tags: [CS, Network, Subnet]
category: 'Network'
draft: false 
---
# 개요
시험준비를 하면 Subnet을 계산하는 문제가 나오며 네트워크 대역대를 구분할 수 있는가에 대한 시험문제도 많이 출제가 된다. 사실 어렵지는 않지만 용어들도 너무 많고, 이진법이라 살짝 풀이 과정이 귀찮을때도 있다.
빨리 푸는 방법은 아니고 정석으로 푸는 방법에 대해서 작성한다. 일단, A레벨, B레벨, C레벨은 생략하고 포스팅한다.

## Boradcast IP
네트워크 대역대의 마지막은 Boradcast IP로 사용한다. 
Broadcast IP는 같은 대역대의 네트워크에 다 패킷을 보내게된다.

Broadcast는 자주할때, 네트워크 장비에 문제가 생긴다. 실무에서는 별로 사용하지 않는 것이 좋다.

## Subnet

Subnet은 네트워크 대역을 구분하는 단위로 많이 쓰인다. Subnet mask를 활용하여 Subneting을 통하여 네트워크 구분을 할 수 있다.

내 IP 주소가 192.168.10.55이고 Subnet mask가 255.255.255.0이라면 나랑 통신 할 수 있는 IP 대역은 어떤 대역일까?

정답은 **192.168.10.1 ~ 192.168.10.254** 까지의 대역이다. Subnet이 네트워크 대역대를 그렇게 나눌 수 있다.

**192.168.10.0는 네트워크 주소이며 192.168.10.255는 브로드캐스트 주소이다.**
그렇기 때문에 유효IP는 192.168.10.1 ~ 192.168.10.254이다.

그러면 다시 고민해보자. Subnet이 255.255.255.128이라면?

총 두개의 네트워크 대역으로 나눌 수 있다.
|Network 대역|Network Address|Broadcast IP|
|---|---|---|
|192.168.10.1 ~ 192.168.10.127|192.168.10.0|192.168.10.128|
|192.168.10.130 ~ 192.168.10.254|192.168.10.129|192.168.10.255|

> 🥕 알아두면 좋을 것  
> |넷마스크|네트워크 갯수|네트워크 당 ip 갯수|
> |---|---|---|
> |0|1|256|
> |128|2|128|
> |192|4|64|
> |224|8|32|
> |240|16|16|
> |248|32|8|
> |252|64|4|
> |254|128|2|
> |255|256|1|
>
> 서브넷의  2에 0의 갯수 승 / 2에 1의 갯수 승 구하면 네트워크 갯수 ip당 갯수를 구할 수 있다.

우리는 반대의 경우도 구할 수 있다. 만약에 Network Address와 Boradcast Address가 나와있다면, 내 Subnet은 어떤 것일까?

Network Address : 192.168.10.16
Boradcast Address : 192.168.10.19

해당 값들을 보면 IP 대역을 알 수 있다.

198.168.10.16~19
4개의 IP대역을 갖고 있다. 그러면 위의 표에세 252에 해당한다.
Subnet Mask는 255.255.255.252가 된다.

## CIDR(Classless Inter-Domain Routing)

Subnet Mask는 255.255.255.252 보이는 것 처럼 엄청길다. 그래서 좀더 간편한 방법으로 왼쪽 부터 1을 채우기로 했다.

그렇게 계산하면 192.168.10.17/30이 된다.

"/30" 앞부터 채워준 1을 CIDR로 부른다.

즉 CIDR를 알면 Subnet Mask를 알 수 있다는 것이다.

192.168.10.17/20의 Subnet Mask와 Network IP와 Broadcast IP를 구해라.

Subnet Mask는 앞에서부터 20번째까지 1을 채우면된다.

11111111|11111111|11110000|00000000 이다.
계산을 해보면 255.255.240.0이 된다.

이렇게 되면 총 네트워크를 16개로 나눌 수 있다.

|No.|네트워크 대역|Network Address|Broadcast IP|갯수|
|---|---|---|---|---|
|1|192.168.0.0 ~ 192.168.15.255| 192.168.0.0|192.168.15.255|4069|
|2|192.168.16.0 ~ 192.168.31.255|192.168.16.0|192.168.31.255|4069|
|3|192.168.32.0 ~ 192.168.47.255|192.168.32.0|192.168.47.255|4069|
|4|192.168.48.0 ~ 192.168.63.255|192.168.48.0|192.168.63.255|4069|
|5|192.168.64.0 ~ 192.168.79.255|192.168.64.0|192.168.79.255|4069|
|6|192.168.80.0 ~ 192.168.95.255|192.168.80.0|192.168.95.255|4069|
|7|192.168.96.0 ~ 192.168.111.255|192.168.96.0|192.168.111.255|4069|
|8|192.168.112.0 ~ 192.168.127.255|192.168.112.0|192.168.127.255|4069|
|9|192.168.128.0 ~ 192.168.143.255|192.168.128.0|192.168.143.255|4069|
|10|192.168.144.0 ~ 192.168.159.255|192.168.144.0|192.168.159.255|4069|
|11|192.168.160.0 ~ 192.168.175.255|192.168.160.0|192.168.175.255|4069|
|12|192.168.176.0 ~ 192.168.191.255|192.168.176.0|192.168.191.255|4069|
|13|192.168.192.0 ~ 192.168.207.255|192.168.192.0|192.168.207.255|4069|
|14|192.168.208.0 ~ 192.168.223.255|192.168.208.0|192.168.223.255|4069|
|15|192.168.224.0 ~ 192.168.239.255|192.168.224.0|192.168.239.255|4069|
|16|192.168.240.0 ~ 192.168.255.255|192.168.240.0|192.168.255.255|4069|

총 16개의 네트워크 대역대 나올 수 있고 거기서 대역대마다 4069개의 IP 주소를 갖고 있을 수 있다.

그렇다면 문제에로 돌아가서 192.168.10.17/20의 Network Address와 Boradcast IP는 무엇일까?

표에서 찾으면 된다.
|No.|네트워크 대역|Network Address|Broadcast IP|갯수|
|---|---|---|---|---|
|1|192.168.0.0 ~ 192.168.15.255| 192.168.0.0|192.168.15.255|4069|

CIDR는 Subnet을 줄여서 쓴것이기 때문에 어렵지 않다.

### 예제 문제

1. IP 주소가 139.127.19.132이고 서브넷마스크 255.255.255.192일 때 아래의 답을 작성하시오.

    1. 괄호안에 들어갈 네트워크 주소 : 139.127.19.( )  
    2. 유효IP 갯수

#### 풀이
Subnet으로 네트워크를 4개로 64개씩으로 나눌 수있다.

그러면 아래와 같은 표를 그릴 수 있다.
|No.|네트워크 대역|
|---|---|
|1|139.127.19.0 ~ 1139.127.19.63|
|2|139.127.19.64 ~ 139.127.19.127|
|3|139.127.19.128 ~ 139.127.19.191|
|4|139.127.19.192 ~ 139.127.19.255|

1번의 정답은 해당 네트워크 대역이다.
|No.|네트워크 대역|
|---|---|
|3|139.127.19.128 ~ 139.127.19.191|

네트워크 주소는 139.127.19.128 이된다.

그리고 유효한 IP의 갯수는 네트워크 주소및 브로드캐스트 주소를 제외한 62개가 된다.

2. 첫번째 네트워크 주소가 192.168.1.0/26일때 FLSM 3개로 분할했을때 두번째 네트워크 브로드캐스드 IP를 10진수로 변환한 값을 작성하시오.

#### 풀이
문제를 읽으면 힌트를 몇가지 얻을 수있다. 일단 CIDR를 통한 Subnet Mask를 구할 수 있다.
255.255.255.192이며, 4개의 네트워크대역으로 IP주소 64개를 갖고 있을 수있다.

|No.|네트워크 대역|
|---|---|
|1|192.168.1.0 ~ 192.168.1.63|
|2|192.168.1.64 ~ 192.168.1.127|
|3|192.168.1.128 ~ 192.168.1.191|
|4|192.168.1.192 ~ 192.168.1.255|

두번째 네트워크 브로드캐스드 IP는 "192.168.1.127"가 된다.

문제를 더 구하면 좋을텐데 따로 문제 모음집이 없다. 중요한건 표를 그릴줄 알면된다. 그러면 문제푸는건 100배는 쉬워질 것이다.

IP주소와 Subneting문제는 이렇게 풀면 어느정도 문제가 다 풀 수 있을 것이다. AWS의 VPC도 CIDR를 통해서 계산할 수 있으니 논리적으로 네트워크를 구분지을 수 있다.
여담으로는 Gateway는 네트워크 대역대의 두번째 대역으로 많이 사용된다.

