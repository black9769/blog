---
title: "[Network] Routing Protocol"
published: 2024-07-27
description: ''
image: ''
tags: [CS, Network, Routing]
category: 'Network'
draft: false 
---
# 개요

네트워크를 학습하다보면 `Router`, `Routing`에 대해서 자주 나온다.

사실 용어가 어려운거지 어려운 내용은 아니다. `시작점과 목적지를 생각해보고 고민`해보자.

>💡 예시  
나는 대중교통을 타고 물건을 배달해야한다. 그렇다면 우리는 네이버 지도에서 내가 있는 `시작위치와 가야할 목적지 지점을 정해두고 가장 빠른 경로`로 우리는 이동한다.

이 과정이 `라우팅하는 과정과 동일`한데, 우리 도시와 같이 매우 복잡한것 처럼 `이더넷도 복잡하게 구성`되어있다.

결국, 라우팅은 데이터가 전달되는 과정에서 여러 네트워크들을 통과해야하는 경우가 생길 수 있는데, 여러 네트워크들의 연결을 담당하고 있는 라우터 장비가 데이터의 목적지가 어디인지 확인하여
빠르고 정확한 길을 찾아 전달 해주는 것을 말한다.

이 행위, 즉 `경로를 찾아(routing)주도록 도와주는 장비`가 `라우터(router)`이다.

`라우터`는 데이터가 이동하기전 `어떤 경로로 패킷이 가는 것이 적절한지 판단하는 장치`가 된다. 우리가 네이버에서 최단거리 경로를 검색하는 것처럼.
그리고 `목적지까지 가는 방법이 결정되면 그 방향으로 패킷`을 보내는 것이 `스위칭`이다.  

`스위칭이 데이터를 보내는 역할`을 한다.

라우팅(routing)은 가장 최단거리 경로로 전송하는 길을 찾아야 한다는 것인데, `최단 거리를 찾기 위해서는 알고리즘(ex, 다익스트라, DUAL 등등)`이 필요하다.

## 라우팅 Protocol (라우팅 Algorithm)

라우팅 Protocol은 `Static Protocol`, `Dynamic Protocol` 로 구분된다.

- `Static Routing Protocol`: 정적으로 라우팅을 관리, `사람이 직접 라우팅 경로를 미리 작성`해두는것이다.
- `Dynamic Routing Protocol`: 동적으로 라우팅을 관리, `자동으로 경로가 결정`되는 Protocol이라고 생각하면 된다.

라우팅 Protocol은 패킷이 목적지까지 가는 방법을 결정해주는 Protocol이다.   
즉, `최단거리의 경로를 라우팅 테이블을 참조해 가장 좋은 길로 패킷을 전송(switch)`시킨다.

뒤로 설명한 내용들은 사람이 손수 작성하는게 아닌 `Dynamic Routing Protocol`이다.

### 비교
| 특징   | Static Routing  | Dynamic Routing  |
|------|-----------------|------------------|
| 구성방법 | 수동              | 자동               |
| 경로변경 | 수동으로 업데이트       | 실시간 자동 업데이트      |
| 복잡성  | 작은 네트워크 구조에서 간단 | 대규모 네트워크에서 효율적   |
| 장애복구 | 수동으로 수정         | 자동 복구            |
| 오버헤드 | 없음              | 라우팅 Protocol로 인해 존재  |
| 보안   | 높은예측가능성         | 라우팅 정보 변조 가능성 존재 |

---
## Dynamic Routing Protocol
### RIP (Routing Information Protocol)

- 거리 백터 라우팅 Protocol이다.
- 단순한 거리 백터 Protocol로, `최대 15 홉`까지의 거리를 지원한다.
- 주로 소규모 네트워크에서 사용된다.

> 💡 홉(hop)이란?
>   
> 데이터 패킷이 출발지에서 목적지로 이동할 때 거치는 중간 라우터나 네트워크 장치를 의미한다.  
> 즉, 한 네크워크 장치에서 다음 네트워크 장치로 데이터가 전달되는 구간을 `홉`이라고 부른다.
> 이 홉을 최소화 하는게 `경로최적화`이며 홉이 작을 수록 목적지에 빨리 도달한다는 것을 의미한다.  
> 또한, 홉수가 많아지면, 전송지연 및 패킷 손실률도 증가할 수 있다.   
> 즉, `홉과 지연률, 손실률이 비례한다는 것을 의미`한다. 그래서 많은 라우팅 Protocol에서는 최대 홉을 제한하여 무한정 루프를 도는 것을 방지한다.

### IGRP(Interior Gateway Routing Protocol) &  EIGRP(Enhanced Interior Gateway Routing Protocol)

- CISCO사에서 개발한 `내부게이트웨이 라우팅 Protocol`이다.
- EIGRP는 IGRP의 향상된 버전이다.
- IGRP(Interior Gateway Routing Protocol)
  - 거리백터라우팅 Protocol로 RIP의 홉수 한계를 극복하고자 만들어졌다.
  - `홉 수를 최대 255개까지 지원`하며, `대규모 네트워크에서 동작`할 수 있다.
  - 디중 메트릭 기반 경로로 선택한다.
- EIGRP(Enhanced Interior Gateway Routing Protocol)
  - 클래스리스 Protocol
  - Diffusing Update Algorithm (DUAL): 빠른 수렴을 보장하는 알고리즘으로, 루프 없는 경로를 신속하게 계산
  - IP뿐만 아니라 IPX와 AppleTalk도 지원
  - 인접성 테이블, 토폴로지 테이블 및 라우팅 테이블

### OSPF(Open Shortest Path First)

- 링크 상태 라우팅 Protocol이다.
- 전체 네트워크 토폴로지를 알고 있는 라우터들이 최단경로를 계산한다.
- 각 라우터는 LSA를 통해 네트워크 전체의 링크상태 정보를 수집하고, [다익스트라 알고리즘](/blog/posts/algorithm/algodijkstras-algorithm/)을 활용해 최단경로를 계산한다.
- 중대형 네트워크에서 사용된다.
> 💡 토폴로지란?  
> 
> 네트워크에서 각 장치들이 서로 연결된 방식, 즉 네트워크 구조를 의미하게 된다.  



### BGP(Border Gateway Protocol)

- 경로백터Protocol이다.
- 인터넷의 주요 라우팅 Protocol이며, 자율시스템인 AS간의 경로 정보를 관리한다.
- AS는 다른 AS와의 경로정보를 교환하며, 정책기반 라우팅을 통해 최적의 경로를 선택한다.
- 인터넷 백본 및 대형 ISP 네크워크에서 사용된다.

---
# FINAL

네트워크를 알고 있다는 것은 아주 큰 무기가 된다. 기본적으로 인프라를 구성할때, 홉수가 지연시간에 많은 영향을 미치고 같은 대역대가 아닌 IP와 통신하기 위해서는
라우터가 목적지까지 날리는 라우팅 프로토콜에 대해서도 알고 있으면 강력한 무기가 될 것이다. 정보처리기사에 나오는 문제이기도 하지만, 꼭 머리속으로 한번 그려보자.
내가 개발한 어플리케이션이 다른 어플리케이션과 통신을 하거나 서버와 통신을 할때 좋은 구조가 어떤 것일지....!